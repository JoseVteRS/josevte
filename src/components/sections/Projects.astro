---
import GitHub from "@/icons/GitHub.astro";
import Section from "../Section.astro";

import { projects } from "@cv";
---

<Section title="Proyectos">
    <ul class="grid grid-cols-3 gap-3 print:grid-cols-2">
        {
            projects.map(
                ({ url, description, highlights, name, isActive, github }) => {
                    return (
                        <li class="border border-neutral-700 rounded-lg p-4">
                            <article class="flex flex-col items-start justify-between min-h-full">
                                <header>
                                    <h3 class="font-bold text-lg">
                                        <a
                                            href={url}
                                            target="_blank"
                                            title={`Ver el proyecto ${name}`}
                                        >
                                            {name}
                                        </a>
                                        {isActive && (
                                            <span class="text-green-500">
                                                •
                                            </span>
                                        )}
                                        {github && (
                                            <a
                                                class="print:hidden"
                                                href={github}
                                                target="_blank"
                                                title={`Ver código fuente del proyecto ${name}`}
                                            >
                                                <GitHub />
                                            </a>
                                        )}
                                    </h3>
                                    <p class="text text-sm mb-8">{description}</p>
                                </header>
                                <footer>
                                    {highlights.map((highlight) => {
                                        return (
                                            <span class="bg-neutral-800 print:border p-1 rounded block max-w-max mb-1.5 text-xs">
                                                {highlight}
                                            </span>
                                        );
                                    })}
                                </footer>
                            </article>
                        </li>
                    );
                },
            )
        }
    </ul>
</Section>
